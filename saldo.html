<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AgilCred - Saldo</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.1/font/bootstrap-icons.css">
    <link rel="stylesheet" href="style.css">
</head>
<body class="agilcred-bg">
    <div class="container py-4">
        <div class="row justify-content-center">
            <div class="col-md-8 col-lg-6">
                <!-- Cabeçalho -->
                <div class="text-center mb-4">
                    <h1 class="agilcred-logo">AgilCred</h1>
                    <h2 class="agilcred-subtitle">Saldo Disponível</h2>
                </div>

                <!-- Card Saldo -->
                <div class="agilcred-card">
                    <!-- Valor Principal -->
                    <div class="text-center mb-5">
                        <p class="text-muted mb-2">Seu crédito aprovado</p>
                        <h1 id="saldoPrincipal" class="display-4 fw-bold text-primary">R$ 5.000,00</h1>
                    </div>

                    <!-- Detalhes -->
                    <div class="agilcred-simulation-info">
                        <div class="agilcred-info-item">
                            <span>Disponível para saque:</span>
                            <strong id="saldoSaque">R$ 5.000,00</strong>
                        </div>
                        <div class="agilcred-info-item">
                            <span>Em análise:</span>
                            <strong>R$ 0,00</strong>
                        </div>
                        <div class="agilcred-info-item">
                            <span>Limite total:</span>
                            <strong>R$ 5.000,00</strong>
                        </div>
                    </div>

                    <!-- Ações -->
                    <div class="mt-4">
                        <button class="btn agilcred-btn-primary w-100 mb-3" onclick="navegar('simulacao.html')">
                            <i class="bi bi-calculator me-2"></i>Simular Novo Empréstimo
                        </button>
                        
                        <button class="btn agilcred-btn-secondary w-100" onclick="solicitarSaque()">
                            <i class="bi bi-cash-coin me-2"></i>Solicitar Saque
                        </button>
                    </div>
                </div>

                <!-- Voltar -->
                <button class="btn agilcred-btn-secondary w-100 mt-3" onclick="navegar('dashboard.html')">
                    <i class="bi bi-arrow-left me-2"></i>Voltar ao Menu
                </button>
            </div>
        </div>
    </div>

    <script>
        function atualizarSaldo() {
            const saldo = parseFloat(localStorage.getItem('saldo') || 5000);
            document.getElementById('saldoPrincipal').textContent = 
                'R$ ' + saldo.toLocaleString('pt-BR', {minimumFractionDigits: 2});
            document.getElementById('saldoSaque').textContent = 
                'R$ ' + saldo.toLocaleString('pt-BR', {minimumFractionDigits: 2});
        }

        function solicitarSaque() {
            const saldo = parseFloat(localStorage.getItem('saldo') || 5000);
            const valor = prompt(`Quanto deseja sacar? (Máximo: R$ ${saldo.toLocaleString('pt-BR', {minimumFractionDigits: 2})})`);
            
            if (valor && !isNaN(valor)) {
                const valorSaque = parseFloat(valor);
                if (valorSaque <= saldo && valorSaque > 0) {
                    const novoSaldo = saldo - valorSaque;
                    localStorage.setItem('saldo', novoSaldo);
                    alert(`Saque de R$ ${valorSaque.toLocaleString('pt-BR', {minimumFractionDigits: 2})} realizado!`);
                    atualizarSaldo();
                } else {
                    alert('Valor inválido ou saldo insuficiente!');
                }
            }
        }

        function navegar(pagina) {
            window.location.href = pagina;
        }

        // Inicializar
        window.addEventListener('DOMContentLoaded', atualizarSaldo);
    </script>
</body>
</html>